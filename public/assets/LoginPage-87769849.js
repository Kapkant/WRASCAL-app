import{d as m,aN as p,aO as f,_ as g,o as i,c as n,w as l,N as r,P as d,T as V,am as h,a,L as u,Q as c,O as w,aP as y}from"./index-865f8557.js";import{V as b,a as t}from"./VCol-43a85519.js";import{V as C}from"./VAlert-82911d42.js";const S=m({name:"NewEntryForm",props:{isLoading:{type:Boolean,default:!1},email:{type:String,default:""},formula:{type:String,default:""},metalCharge:{type:String,default:""},ligandCharge:{type:String,default:""}},data:()=>({emailValue:"",passwordValue:"",ligandChargeValue:"",loginError:"",showAlert:!1}),methods:{async submitForm(){try{const{error:e}=await p.auth.signInWithPassword({email:this.emailValue,password:this.passwordValue});e===null?(f().login(),this.$router.push("/")):(this.loginError=e.message,this.showAlert=!0)}catch(e){console.log("Error: ",e)}}}}),k=r("h1",null,"Log In",-1),v=r("br",null,null,-1);function N(e,o,E,F,L,A){return i(),n(b,{class:"pt-8"},{default:l(()=>[k,v,r("form",{onSubmit:o[2]||(o[2]=y((...s)=>e.submitForm&&e.submitForm(...s),["prevent"]))},[e.showAlert?(i(),n(C,{key:0,type:"error",class:"mt-2"},{default:l(()=>[d(V(e.loginError),1)]),_:1})):h("",!0),a(c,{class:"pt-8"},{default:l(()=>[a(t,{cols:"12",md:"12"},{default:l(()=>[a(u,{label:"Email","prepend-icon":"mdi-list-box-outline",variant:"solo",loading:e.isLoading??!1,"model-value":e.emailValue,"onUpdate:modelValue":o[0]||(o[0]=s=>e.emailValue=s)},null,8,["loading","model-value"])]),_:1}),a(t,{cols:"12",md:"12"},{default:l(()=>[a(u,{label:"Password","prepend-icon":"mdi-lock",variant:"solo",loading:e.isLoading??!1,"model-value":e.passwordValue,"onUpdate:modelValue":o[1]||(o[1]=s=>e.passwordValue=s),type:"password"},null,8,["loading","model-value"])]),_:1}),a(t,{cols:"12",md:"6"}),a(t,{cols:"12",md:"6"})]),_:1}),a(w,{type:"submit",block:"",class:"mt-2",color:"primary",onClick:e.submitForm},{default:l(()=>[d("Submit")]),_:1},8,["onClick"])],32)]),_:1})}const T=g(S,[["render",N]]);export{T as default};
